(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{363:function(t,e,s){"use strict";s.r(e);var a=s(7),r=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"上手-gem5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#上手-gem5"}},[t._v("#")]),t._v(" 上手 GEM5")]),t._v(" "),e("h2",{attrs:{id:"gem5-介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gem5-介绍"}},[t._v("#")]),t._v(" GEM5 介绍")]),t._v(" "),e("p",[t._v("GEM5 是一个开源计算机架构模拟器，包括系统级架构以及处理器微架构。GEM5 的前身为密歇根大学的 m5 项目与威斯康星大学的 GEMS 项目。2011 年 m5 与 GEMS 合并为 Gem5，目前被广泛用于学术界和工业界。通过谷歌学术可以看到，Gem5 目前被引用超过 5000 次，大量论文采用 Gem5 作为研究工具。同时也被许多工业界公司使用，包括 ARM、AMD、Google、Micron、Metempsy、HP、Samsung 等。\n"),t._v("\n许多公司也积极为 gem5 添加了新功能或改进了现有功能。近年来，Gem5 社区仍在积极更新与开发，以支持未来 15 年的计算机架构研究。\ngem5 是一个模块化离散事件驱动的计算机系统模拟器平台。这意味着，架构研究人员在研究新架构时，只需添加或修改特定于目标的功能模块，而不需要了解模拟器的方方面面。同时，也使得 gem5 容易与其他模拟器联合仿真，构建联合模拟器平台或搭建自己的模拟系统，目前已有许多工作基于 Gem5 开发了模拟平台。")]),t._v(" "),e("p",[t._v("Gem5 主要由 C++和 python 编写的。其中 C++占绝大多数，主要负责底层架构的具体实现等，Python 则负责对象的初始化、配置和模拟控制等。另外包含了两个领域特定语言 DSL，其中 ISADSL 负责统一二进制指令的解码和语义规范，SLICC 用于实现缓存一致性协议。")]),t._v(" "),e("h2",{attrs:{id:"安装-gem5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-gem5"}},[t._v("#")]),t._v(" 安装 GEM5")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.gem5.org/getting_started/",target:"_blank",rel:"noopener noreferrer"}},[t._v("First Step"),e("OutboundLink")],1)]),t._v(" "),e("ol",[e("li",[t._v("获取源码")])]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("git clone https://github.com/gem5/gem5\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("安装依赖")])]),t._v(" "),e("p",[t._v("推荐在 ubuntu 环境下进行构建（或者在 docker 中进行）")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),e("p",[t._v("我也尝试过在 arch 或是 fedora 这些滚动发行版上进行构建，但是似乎是因为 python 版本过高会导致 scons 构建工具出现问题。如果你在使用这些滚动发行版，建议在 docker 下进行构建")])]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("sudo apt install build-essential git m4 scons zlib1g zlib1g-dev libprotobuf-dev protobuf-compiler libprotoc-dev libgoogle-perftools-dev python3-dev python3 \nsuod apt install libboost-all-dev pkg-config libhdf5-dev libpng-dev mold pip libcapstone-dev #可选\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("ol",{attrs:{start:"3"}},[e("li",[t._v("开始构建")])]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("cd gem5\nscons build/RISCV/gem5.opt -j`nproc`\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("ol",{attrs:{start:"4"}},[e("li",[t._v("运行 Hello")])]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("build/X86/gem5.opt configs/learning_gem5/part1/simple-riscv.py\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("h2",{attrs:{id:"常见问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[t._v("#")]),t._v(" 常见问题")]),t._v(" "),e("p",[t._v("GEM5 官网列出了很多常见的错误：https://www.gem5.org/documentation/learning_gem5/part1/building/")])])}),[],!1,null,null,null);e.default=r.exports}}]);